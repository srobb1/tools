#!/usr/bin/perl -w
use strict;
my @states = (0 ,1);
my %pings;

my %foundPings;
my %newCombo;
while (my $line = <DATA>){
  chomp $line;
  my ($code,$RIL) = split /\s+/ , $line;
  push @{$foundPings{$code}},$RIL;
  if ($code =~ /\*|\?/){
    push @{$newCombo{$code}} , $RIL;
  }
}

foreach my $state (@states){  
  my $pingA = $state ? 'A' : '';
  foreach my $state (@states){
    my $pingB = $state ? 'B' : '';
    foreach my $state (@states){
      my $pingC = $state ? 'C' : '';
      foreach my $state (@states){
        my $pingD = $state ? 'D' : '';
        foreach my $state (@states){
          my $pingE = $state  ? 'E' : '';
          foreach my $state (@states){
            my $pingF = $state ? 'F' : '';
            foreach my $state  (@states){
              my $pingG = $state ? 'G' : '';
              foreach my $state (@states){
                my $pingH = $state ? 'H' : '';
                my $combo = join ('' , $pingA,$pingB,$pingC,$pingD,$pingE,$pingF,$pingG,$pingH );
                $pings{$combo}++;
              }
            }
          }
        }
      }
    }
  }
}
print "potential-PING-Combo\tRIL-Count\tRILs-found\n";
foreach my $combo (sort {length($a)<=>length($b)} keys %pings){
  my $RILs = '';
  my $count = 0;
  if (exists $foundPings{$combo}){
    $RILs = join (",",sort { substr ($a, 3) <=> substr ($b, 3)}  @{$foundPings{$combo}});
    $count = scalar @{$foundPings{$combo}};
  }
  print "$combo\t$count\t$RILs\n";
}
print "------ new Ping Insertions ----------\n";
print "PING-Combo\tRIL-Count\tRILs\n";
foreach my $new (sort keys %newCombo){
  my $count = scalar @{$newCombo{$new}};
  my $RILs = join (',' , @{$newCombo{$new}});
  print "$new\t$count\t$RILs\n";
}
__DATA__
DEFGH	RIL1
ABCDF	RIL10
D	RIL100
CDFGH	RIL101
CH	RIL102
ABH	RIL103
ABH	RIL104
ABEFGH	RIL105
	RIL106
ABDH	RIL107
CDH	RIL108
CDH	RIL109
ABDEFGH	RIL11
ABC	RIL110
EGH	RIL111
ABEFH	RIL112
ABC	RIL113
EF	RIL114
BDG	RIL115
CDH	RIL116
ABEFG	RIL117
CDEFGH	RIL118
ABCH	RIL119
G	RIL12
ABCEFG	RIL120
ABCGH	RIL121
ACEFG	RIL122
AB	RIL123
ABEFGH	RIL124
BCDF	RIL125
ABCGH	RIL126
ABCDEG	RIL127
ABC	RIL128
	RIL129
ABGH	RIL13
ABCGH	RIL130
ABDF	RIL131
CDF	RIL132
BCDEF	RIL133
ABCDEH	RIL134
ABCEFG	RIL135
BDEF	RIL136
ABH	RIL137
ABCGH	RIL138
CH	RIL139
CEFGH**	RIL14
H	RIL140
DG	RIL141
ABDEFH	RIL142
CDEFG	RIL143
ABDEFG	RIL144
ABEH	RIL145
ABDE	RIL146
DEG	RIL147
A?EFG	RIL148
?GH	RIL149
DEFGH	RIL15
ABH	RIL150
BCG	RIL151
BEH	RIL152
ABDFGH	RIL153
BDGH	RIL154
ABDEFH	RIL155
H	RIL156
CFGH	RIL157
ACH	RIL158
ABCDG	RIL159
EF	RIL16
ABCEFH	RIL160
CD	RIL161
EFG	RIL162
ABCEFG	RIL163
AEFG	RIL164
EFG	RIL165
H	RIL166
ABDFG	RIL167
CGH	RIL168
ACDH	RIL169
DG	RIL17
CDEFG	RIL170
DEFG	RIL172
DH	RIL173
ABDEFH	RIL174
ABCDGH	RIL175
ABCE	RIL176
CEFG	RIL177
CDEFG	RIL178
B	RIL179
DFG	RIL18
ABCH	RIL180
ABH	RIL181
EGH	RIL182
ABFH	RIL183
ABCGH	RIL184
ABDFGH	RIL185
ABCFGH	RIL186
BCH	RIL187
DGH	RIL188
ABCEFGH	RIL189
EG	RIL19
ABH	RIL190
CEFGH	RIL191
A?BCE	RIL192
CF	RIL193
ACDEFG	RIL194
BG	RIL195
ABEFG	RIL196
CDEFG	RIL197
ABDEFG	RIL198
EG	RIL199
CH	RIL2
BD	RIL20
BDEF	RIL200
ACEFG	RIL201
BDEFG	RIL203
CDF	RIL204
DEFH	RIL205
CF	RIL206
BDEFG	RIL207
BDH	RIL208
ABFG	RIL209
ABCEFGH	RIL21
DH	RIL210
ABDH	RIL211
BDH	RIL212
ABCD	RIL213
ABEF	RIL214
CDGH	RIL215
ABCDGH	RIL216
A?BCEGH	RIL217
ABCH	RIL218
ABEF	RIL219
ABC	RIL22
BCDEH	RIL220
ABEFGH	RIL221
ABFH	RIL222
CDEFH	RIL223
DH	RIL224
CD	RIL225
ABD	RIL226
DE	RIL227
A?BDEFH	RIL228
ABG	RIL229
ABDEF	RIL23
C	RIL230
H	RIL231
ABEF	RIL232
ABE	RIL233
C	RIL234
BEFG	RIL235
?BEFG	RIL236
H	RIL237
BG	RIL238
A?BDEFG?H	RIL239
ABCDFH	RIL24
CDF	RIL240
A?B?CEFGH	RIL241
A?BC1H	RIL242
ABCH	RIL243
AB	RIL244
EFH	RIL245
EFGH	RIL246
BDEF	RIL247
BFGH	RIL248
DE	RIL249
D	RIL25
ABDH	RIL250
EF	RIL251
DFGH	RIL252
BCE	RIL253
D	RIL254
BCDEF	RIL255
DH	RIL256
BEFG	RIL257
ABDG	RIL258
H	RIL259
DEFG*	RIL26
ABCEF	RIL260
ABCDF	RIL261
BD	RIL262
ABH	RIL263
ABCEFG	RIL264
H	RIL265
CH	RIL266
ADE	RIL267
E	RIL268
CD	RIL269
EFH	RIL270
ABDEFH	RIL271
EH	RIL272
ABEF	RIL273
ABH	RIL274
ABDG	RIL275
CEFH	RIL276
AD*	RIL277
ABCFGH	RIL278
ABEGH	RIL279
CH	RIL28
ABCG	RIL280
CDH	RIL29
ABCEFG	RIL3
ABEFGH	RIL30
CEFGH	RIL31
CD	RIL33
ABCDEFG	RIL34
EFH	RIL35
AB	RIL36
ABH	RIL37
CDEFGH	RIL38
	RIL39
CDEFG	RIL4
D	RIL40
DEF	RIL42
C	RIL43
BCEFG	RIL44
E	RIL45
ABEFGH*	RIL46
G	RIL47
ABFG	RIL48
ABE	RIL49
FGH	RIL5
ABCDGH	RIL50
ABDEF*	RIL51
CDE	RIL52
AB*	RIL53
BCDGH	RIL54
DFGH	RIL55
ABDEFG	RIL56
CDEFGH	RIL57
CDEFG	RIL58
CDG	RIL59
FGH	RIL6
A	RIL60
CDEFG	RIL61
BEFG	RIL62
ABC	RIL63
ABCEFGH	RIL64
ABDEF	RIL65
ABDEFG	RIL66
CG	RIL67
AEFG	RIL68
ABCDEF	RIL69
FGH	RIL7
BD	RIL70
ABCE	RIL71
ABCEFG	RIL72
ABCFH	RIL73
ADH	RIL74
D	RIL75
BCGH	RIL76
BCD	RIL77
BCH	RIL78
DH	RIL79
ABDF	RIL8
BC	RIL80
CH	RIL81
EFG	RIL82
BCEF	RIL83
CEFH	RIL84
EFG	RIL85
BCEFG	RIL86
ABCG	RIL87
BDEFGH	RIL88
CEFGH	RIL89
CEFH	RIL9
BEFG	RIL90
CH	RIL91
BEFG	RIL92
BH	RIL93
ABFGH	RIL94
BCDEFH	RIL95
ABG	RIL96
D**	RIL97
CDH	RIL98
D	RIL99

